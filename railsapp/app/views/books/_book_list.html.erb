<% if @books.any? %>
  <div class="row row-cols-1 row-cols-md-3 g-4 mb-4">
    <% @books.each do |book| %>
      <div class="col">
        <div class="card">
          <div class="row g-0 card-body">
            <div class="col-md-4">
              <img src= "<%= book.image_link %>" alt="書籍画像">
            </div>
            <div class="col-md-8 p-3">
              <div class="mb-1">
                <h5 class="card-title fw-bold lh-sm"><%= link_to book.title, book_path(id: book), class: "link-offset-2 link-underline link-underline-opacity-0", data: { turbo: :false } %></h5>
                <p class="card-text text-body-secondary"><%= book.author %></p>
                <div class="d-flex align-items-center mb-2" style="gap: 10px;">
                  <h6 class="card-title fw-bold" style="margin-bottom: 0;">お気に入り数：</h6>
                  <p class="card-text fs-6 text-body-secondary"><%= Like.currently_likes(book).count %></p>
                </div>
              </div>
                <div class="d-grid d-md-flex justify-content-md-end">
                  <%= link_to "借りる", new_lending_path(id: book), class: "btn btn-primary", data: { turbo_frame: "modal" } %>
                </div>

            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
  <div class="d-grid d-md-flex justify-content-md-end">
    <%= paginate @books, theme: 'bootstrap-5' %>
  </div>
<% else %>
  <p>書籍がありません</p>
<% end %>